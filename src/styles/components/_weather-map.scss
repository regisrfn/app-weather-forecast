// =================================
// COMPONENTE: WEATHER MAP CONTAINER
// =================================

@use '../abstracts/colors' as *;
@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;
@use '../abstracts/breakpoints' as *;

.weather-map-container {
  width: 100%;
  height: 100vh;
  height: 100dvh;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;

  @include dark-mode {
    background-color: var(--home-ambient-1);
    background-image:
      radial-gradient(circle at 12% 20%, rgba(124, 242, 255, 0.12), transparent 28%),
      radial-gradient(circle at 82% 18%, rgba(159, 122, 234, 0.16), transparent 30%),
      radial-gradient(ellipse at 30% 80%, rgba(124, 242, 255, 0.08), transparent 26%),
      linear-gradient(135deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0));
    isolation: isolate;

    &::before {
      content: '';
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 10% 10%, rgba(124, 242, 255, 0.14), transparent 25%),
        radial-gradient(circle at 90% 85%, rgba(159, 122, 234, 0.12), transparent 24%),
        linear-gradient(120deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0));
      opacity: 0.7;
      pointer-events: none;
      mix-blend-mode: screen;
      z-index: -2;
    }

    &::after {
      content: '';
      position: absolute;
      inset: 0;
      background-image:
        linear-gradient(90deg, var(--home-gridline) 1px, transparent 1px),
        linear-gradient(180deg, var(--home-gridline) 1px, transparent 1px);
      background-size: 140px 140px;
      opacity: 0.45;
      pointer-events: none;
      mix-blend-mode: soft-light;
      z-index: -1;
    }
  }
}

#map {
  flex: 1;
  z-index: $z-map;
  min-height: 0;
  position: relative;
  
  // Remover outline em elementos SVG/Path do Leaflet (Chrome fix)
  svg path {
    outline: none !important;
    
    &:focus,
    &:active {
      outline: none !important;
    }
  }
  
  // Garantir que elementos interativos do Leaflet n√£o tenham outline
  .leaflet-interactive {
    outline: none !important;
    
    &:focus,
    &:active {
      outline: none !important;
    }
  }
  
  // Esconder controles de zoom em telas pequenas
  @include md {
    .leaflet-control-zoom {
      display: none !important;
    }
  }
}
